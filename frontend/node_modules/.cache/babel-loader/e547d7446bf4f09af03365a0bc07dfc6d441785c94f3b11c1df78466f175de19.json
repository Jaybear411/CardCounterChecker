{"ast":null,"code":"import React from'react';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import'./CounterDetection.css';// Register Chart.js components\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const CounterDetection=_ref=>{let{detection,runningCount}=_ref;// Prepare chart data if detection history exists\nconst chartData=detection&&detection.history?{labels:detection.history.map(item=>`Hand ${item.hand_number}`),datasets:[{label:'Similarity Score',data:detection.history.map(item=>item.similarity_score),borderColor:'#e63946',backgroundColor:'rgba(230, 57, 70, 0.2)',tension:0.4,borderWidth:3,pointBackgroundColor:'#e63946',pointBorderColor:'#ffffff',pointRadius:5,pointHoverRadius:8,pointHoverBackgroundColor:'#e63946',pointHoverBorderColor:'#ffffff'},{label:'Suspicion Threshold',data:detection.history.map(()=>detection.similarity_threshold||0.70),borderColor:'#adb5bd',backgroundColor:'rgba(173, 181, 189, 0.1)',borderDash:[5,5],borderWidth:2,pointRadius:0}]}:null;const chartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top',labels:{color:'#f8f9fa',font:{weight:'bold'},usePointStyle:true}},title:{display:true,text:'Card Counting Detection Score Over Time',color:'#f8f9fa',font:{size:16,weight:'bold'},padding:{bottom:20}},tooltip:{backgroundColor:'rgba(26, 26, 46, 0.9)',borderColor:'#e63946',borderWidth:1,titleColor:'#f8f9fa',bodyColor:'#f8f9fa',titleFont:{weight:'bold'},callbacks:{label:function(context){let label=context.dataset.label||'';if(label){label+=': ';}if(context.parsed.y!==null){label+=context.parsed.y.toFixed(3);}return label;}}}},scales:{y:{min:0,max:1,grid:{color:'rgba(255, 255, 255, 0.05)'},ticks:{color:'#adb5bd'},title:{display:true,text:'Similarity Score',color:'#f8f9fa',font:{weight:'bold'}}},x:{grid:{color:'rgba(255, 255, 255, 0.05)'},ticks:{color:'#adb5bd'}}},animation:{duration:2000,easing:'easeOutQuart'}};// Calculate status indicator class based on detection\nconst getStatusClass=()=>{if(!detection)return'neutral';const{similarity_score}=detection;if(similarity_score>0.85)return'high';if(similarity_score>0.7)return'medium';return'low';};// Get status text based on detection\nconst getStatusText=()=>{if(!detection)return'No data';const{similarity_score}=detection;if(similarity_score>0.85)return'High Risk';if(similarity_score>0.7)return'Medium Risk';return'Low Risk';};return/*#__PURE__*/_jsxs(\"div\",{className:\"counter-detection\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Card Counting Detection\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detection-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detection-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detection-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Running Count:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:runningCount})]}),detection&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Current Score:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:detection.similarity_score.toFixed(3)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:`status-indicator ${getStatusClass()}`,children:getStatusText()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Hands Analyzed:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:detection.history?detection.history.length:0})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detection-explanation\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"How it works:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This system detects card counting by analyzing your betting patterns and decisions using Singular Value Decomposition (SVD) and linear algebra. Higher similarity scores indicate a betting pattern similar to known card counters.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detection-chart\",children:chartData?/*#__PURE__*/_jsx(Line,{data:chartData,options:chartOptions}):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"Play more hands to generate detection data\"})})]})]});};export default CounterDetection;","map":{"version":3,"names":["React","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","CounterDetection","_ref","detection","runningCount","chartData","history","labels","map","item","hand_number","datasets","label","data","similarity_score","borderColor","backgroundColor","tension","borderWidth","pointBackgroundColor","pointBorderColor","pointRadius","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","similarity_threshold","borderDash","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","color","font","weight","usePointStyle","title","display","text","size","padding","bottom","tooltip","titleColor","bodyColor","titleFont","callbacks","context","dataset","parsed","y","toFixed","scales","min","max","grid","ticks","x","animation","duration","easing","getStatusClass","getStatusText","className","children","length","options"],"sources":["/Users/jaykhemchandani/Desktop/CardCounterChecker/frontend/src/components/CounterDetection.js"],"sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport './CounterDetection.css';\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst CounterDetection = ({ detection, runningCount }) => {\n  // Prepare chart data if detection history exists\n  const chartData = detection && detection.history ? {\n    labels: detection.history.map(item => `Hand ${item.hand_number}`),\n    datasets: [\n      {\n        label: 'Similarity Score',\n        data: detection.history.map(item => item.similarity_score),\n        borderColor: '#e63946',\n        backgroundColor: 'rgba(230, 57, 70, 0.2)',\n        tension: 0.4,\n        borderWidth: 3,\n        pointBackgroundColor: '#e63946',\n        pointBorderColor: '#ffffff',\n        pointRadius: 5,\n        pointHoverRadius: 8,\n        pointHoverBackgroundColor: '#e63946',\n        pointHoverBorderColor: '#ffffff',\n      },\n      {\n        label: 'Suspicion Threshold',\n        data: detection.history.map(() => detection.similarity_threshold || 0.70),\n        borderColor: '#adb5bd',\n        backgroundColor: 'rgba(173, 181, 189, 0.1)',\n        borderDash: [5, 5],\n        borderWidth: 2,\n        pointRadius: 0,\n      },\n    ],\n  } : null;\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: '#f8f9fa',\n          font: {\n            weight: 'bold'\n          },\n          usePointStyle: true,\n        }\n      },\n      title: {\n        display: true,\n        text: 'Card Counting Detection Score Over Time',\n        color: '#f8f9fa',\n        font: {\n          size: 16,\n          weight: 'bold'\n        },\n        padding: {\n          bottom: 20\n        }\n      },\n      tooltip: {\n        backgroundColor: 'rgba(26, 26, 46, 0.9)',\n        borderColor: '#e63946',\n        borderWidth: 1,\n        titleColor: '#f8f9fa',\n        bodyColor: '#f8f9fa',\n        titleFont: {\n          weight: 'bold'\n        },\n        callbacks: {\n          label: function(context) {\n            let label = context.dataset.label || '';\n            if (label) {\n              label += ': ';\n            }\n            if (context.parsed.y !== null) {\n              label += context.parsed.y.toFixed(3);\n            }\n            return label;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        min: 0,\n        max: 1,\n        grid: {\n          color: 'rgba(255, 255, 255, 0.05)'\n        },\n        ticks: {\n          color: '#adb5bd'\n        },\n        title: {\n          display: true,\n          text: 'Similarity Score',\n          color: '#f8f9fa',\n          font: {\n            weight: 'bold'\n          }\n        }\n      },\n      x: {\n        grid: {\n          color: 'rgba(255, 255, 255, 0.05)'\n        },\n        ticks: {\n          color: '#adb5bd'\n        }\n      }\n    },\n    animation: {\n      duration: 2000,\n      easing: 'easeOutQuart'\n    }\n  };\n\n  // Calculate status indicator class based on detection\n  const getStatusClass = () => {\n    if (!detection) return 'neutral';\n    \n    const { similarity_score } = detection;\n    if (similarity_score > 0.85) return 'high';\n    if (similarity_score > 0.7) return 'medium';\n    return 'low';\n  };\n\n  // Get status text based on detection\n  const getStatusText = () => {\n    if (!detection) return 'No data';\n    \n    const { similarity_score } = detection;\n    if (similarity_score > 0.85) return 'High Risk';\n    if (similarity_score > 0.7) return 'Medium Risk';\n    return 'Low Risk';\n  };\n\n  return (\n    <div className=\"counter-detection\">\n      <h2>Card Counting Detection</h2>\n      \n      <div className=\"detection-content\">\n        <div className=\"detection-left\">\n          <div className=\"detection-stats\">\n            <div className=\"stat-item\">\n              <span className=\"stat-label\">Running Count:</span>\n              <span className=\"stat-value\">{runningCount}</span>\n            </div>\n            \n            {detection && (\n              <>\n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Current Score:</span>\n                  <span className=\"stat-value\">\n                    {detection.similarity_score.toFixed(3)}\n                  </span>\n                </div>\n                \n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Status:</span>\n                  <div className={`status-indicator ${getStatusClass()}`}>\n                    {getStatusText()}\n                  </div>\n                </div>\n                \n                <div className=\"stat-item\">\n                  <span className=\"stat-label\">Hands Analyzed:</span>\n                  <span className=\"stat-value\">\n                    {detection.history ? detection.history.length : 0}\n                  </span>\n                </div>\n              </>\n            )}\n          </div>\n          \n          <div className=\"detection-explanation\">\n            <h3>How it works:</h3>\n            <p>\n              This system detects card counting by analyzing your betting patterns \n              and decisions using Singular Value Decomposition (SVD) and linear algebra.\n              Higher similarity scores indicate a betting pattern similar to known card counters.\n            </p>\n          </div>\n        </div>\n        \n        <div className=\"detection-chart\">\n          {chartData ? (\n            <Line data={chartData} options={chartOptions} />\n          ) : (\n            <div className=\"no-data\">\n              Play more hands to generate detection data\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CounterDetection; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}